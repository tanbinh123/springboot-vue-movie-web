(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f89002"],{"0d11":function(e,t,o){"use strict";o("10b0")},"10b0":function(e,t,o){},"1a72":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"m",(function(){return a})),o.d(t,"h",(function(){return r})),o.d(t,"i",(function(){return l})),o.d(t,"b",(function(){return u})),o.d(t,"p",(function(){return s})),o.d(t,"e",(function(){return c})),o.d(t,"g",(function(){return d})),o.d(t,"l",(function(){return m})),o.d(t,"f",(function(){return f})),o.d(t,"c",(function(){return p})),o.d(t,"j",(function(){return y})),o.d(t,"n",(function(){return v})),o.d(t,"k",(function(){return b})),o.d(t,"d",(function(){return g})),o.d(t,"o",(function(){return S}));var i=o("2b0e"),n="http://cwcc.cf/",a=function(e){return i["default"].axios.post("movie/admin/login",e)},r=function(e){return i["default"].axios.get("movie/movie/get?"+e)},l=function(e){return i["default"].axios.get("movie/movie/get/"+e)},u=function(e){return i["default"].axios.post("movie/movie/add",e)},s=function(e){return i["default"].axios.post("movie/movie/update",e)},c=function(e){return i["default"].axios.delete("movie/movie/delete?"+e)},d=function(){return i["default"].axios.get("movie/movie/get/local/count/top5")},m=function(){return i["default"].axios.get("movie/movie/get/type")},f=function(){return i["default"].axios.get("movie/movie/get/count/all")},p=function(e){return i["default"].axios.post("/movie/play-sources/add",e)},y=function(e){return i["default"].axios.get("/movie/play-sources/get?"+e)},v=function(e){return i["default"].axios.delete("/movie/play-sources/delete?"+e)},b=function(){return i["default"].axios.get("/movie/sources-name/get")},g=function(e){return i["default"].axios.get("/movie/sources-name/add?"+e)},S=function(e){return i["default"].axios.delete("/movie/sources-name/delete?"+e)}},"47fa":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"增加电影源",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"addPlaySourceForm",attrs:{model:e.addPlaySourceForm,"label-position":"right","label-width":"100px"}},[o("el-form-item",{attrs:{label:"电影id",prop:"mid"}},[o("el-input",{attrs:{disabled:""},model:{value:e.addPlaySourceForm.movie,callback:function(t){e.$set(e.addPlaySourceForm,"movie",t)},expression:"addPlaySourceForm.movie"}})],1),o("el-form-item",{attrs:{label:"电影源商",prop:"sname"}},[o("el-select",{attrs:{disabled:""},model:{value:e.addPlaySourceForm.sname,callback:function(t){e.$set(e.addPlaySourceForm,"sname",t)},expression:"addPlaySourceForm.sname"}},[e._l(e.addPlaySourceForm.sources,(function(e){return[o("el-option",{attrs:{label:e.name,value:e.snid}})]}))],2)],1),o("el-form-item",{attrs:{label:"标题",prop:"definition"}},[o("el-input",{model:{value:e.addPlaySourceForm.title,callback:function(t){e.$set(e.addPlaySourceForm,"title",t)},expression:"addPlaySourceForm.title"}})],1),o("el-form-item",{attrs:{label:"URL",prop:"definition"}},[o("el-input",{model:{value:e.addPlaySourceForm.playUrl,callback:function(t){e.$set(e.addPlaySourceForm,"playUrl",t)},expression:"addPlaySourceForm.playUrl"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addPlaySource}},[e._v("增 加")])],1)],1),o("ul",{staticClass:"play-source-nav"},[o("li",[o("i",{staticClass:"el-icon-video-play",staticStyle:{color:"red","font-weight":"1000","font-size":"20px"}},[e._v(" "+e._s(e.movie.movie.title))])]),e._m(0),o("li",[o("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),o("li",[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-document-add"},on:{click:e.addSource}},[e._v("添加源")])],1)]),o("div",e._l(e.sources,(function(t){return o("div",{staticClass:"sources-item"},[o("span",{staticClass:"sources-name"},[o("i",{staticStyle:{width:"60px",display:"inline-block"}},[e._v(e._s(t.name))]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){e.dialogVisible=!0,e.addPlaySourceForm.sname=t.snid}}},[e._v("增加")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.removeSourceGroup(t.snid)}}},[e._v("删除本源")])],1),o("el-table",{attrs:{data:t.name in e.playSource?e.playSource[t.name]:[]}},[o("el-table-column",{attrs:{label:"ID",prop:"pid"}}),o("el-table-column",{attrs:{label:"标题",prop:"title"}}),o("el-table-column",{attrs:{label:"播放地址",prop:"play_url"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}},[e._v("修 改")]),o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.removeSource(t.row.pid)}}},[e._v("删 除")])]}}],null,!0)})],1)],1)})),0)],1)},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",[o("i",{staticClass:"el-icon-s-data"},[e._v("源")])])}],a=o("1a72"),r={name:"PlaySources",data:function(){return{movie:null,sources:null,playSource:null,source:"",addPlaySourceForm:{sname:1,movie:0,title:"",playUrl:"",sources:[]},dialogVisible:!1}},methods:{loadData:function(){this.addPlaySourceForm={sname:1,movie:0,title:"",playUrl:"",sources:[]};var e=this,t=this.$route.query.mid;e.addPlaySourceForm.movie=t,Object(a["i"])(t).then((function(t){e.movie=t.data})),Object(a["k"])().then((function(t){e.sources=t.data.data,e.addPlaySourceForm.sources=t.data.data})),Object(a["j"])("mid="+t).then((function(t){e.playSource=t.data.data}))},addPlaySource:function(){var e=this;Object(a["c"])(this.addPlaySourceForm).then((function(t){100===t.code?(e.dialogVisible=!1,e.$notify({title:"成功",message:t.msg,type:"success"}),e.loadData()):e.$notify({title:"失败",message:t.msg,type:"error"})}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},removeSource:function(e){if(confirm("确认删除？")){var t=this;Object(a["n"])("pid="+e).then((function(e){100===e.code?(t.dialogVisible=!1,t.$notify({title:"成功",message:e.msg,type:"success"}),t.loadData()):t.$notify({title:"失败",message:e.msg,type:"error"})}))}},addSource:function(){var e=this;Object(a["d"])("name="+this.source).then((function(t){100===t.code?(e.$notify({title:"成功",message:t.msg,type:"success"}),e.loadData()):e.$notify({title:"失败",message:t.msg,type:"error"})}))},removeSourceGroup:function(e){var t=this;Object(a["o"])("snid="+e).then((function(e){100===e.code?(t.$notify({title:"成功",message:e.msg,type:"success"}),t.loadData()):t.$notify({title:"失败",message:e.msg,type:"error"})}))}},mounted:function(){this.loadData()}},l=r,u=(o("0d11"),o("2877")),s=Object(u["a"])(l,i,n,!1,null,"211cce1a",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-13f89002.628d57ca.js.map